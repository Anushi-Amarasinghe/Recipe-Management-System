<!-- Top Bar -->
<div class="top-bar">
  <h2>Settings</h2>
</div>

<!-- Profile Section -->
<div class="edit-card">
  <h3 class="section-title">Profile</h3>
  <p class="section-subtitle">Manage your personal information</p>

  <div class="edit-form">
    <div class="form-row">
      <div class="field">
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" placeholder="John" autocomplete="given-name" />
      </div>

      <div class="field">
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" placeholder="Doe" autocomplete="family-name" />
      </div>
    </div>

    <div class="field">
      <label for="email">Email</label>
      <input type="email" id="email" placeholder="john.doe@example.com" autocomplete="email" />
    </div>

    <div class="actions-bar">
      <button class="btn btn-primary" id="updateProfileBtn" type="button">
        Update Profile
      </button>
    </div>
  </div>
</div>

<!-- Password Section -->
<div class="edit-card">
  <h3 class="section-title">Change Password</h3>
  <p class="section-subtitle">Keep your account secure</p>

  <div class="edit-form">

    <div class="field">
      <label for="currentPassword">Current Password</label>
      <input type="password" id="currentPassword" autocomplete="current-password" />
      <span class="toggle-password" data-target="currentPassword"><i class="fa-solid fa-eye"></i></span>
    </div>

    <div class="field">
      <label for="newPassword">New Password</label>
      <input type="password" id="newPassword" autocomplete="new-password" />
      <span class="toggle-password" data-target="newPassword"><i class="fa-solid fa-eye"></i></span>

      <ul class="password-rules" id="passwordRules" style="display:none; margin-top:5px; padding-left:20px;">
        <li id="req-length">At least 8 characters</li>
        <li id="req-upper">One uppercase letter</li>
        <li id="req-lower">One lowercase letter</li>
        <li id="req-number">One number</li>
        <li id="req-special">One special character</li>
      </ul>
    </div>

    <div class="field">
      <label for="confirmPassword">Confirm New Password</label>
      <input type="password" id="confirmPassword" autocomplete="new-password" />
      <span class="toggle-password" data-target="confirmPassword"><i class="fa-solid fa-eye"></i></span>
      <div id="confirmMatchMsg" style="display:none; color:red; margin-top:3px;">Passwords do not match</div>
    </div>

    <div class="actions-bar">
      <button class="btn btn-primary" id="changePasswordBtn" type="button">
        Change Password
      </button>
    </div>

  </div>
</div>


<!-- Preferences Section -->
<div class="edit-card" data-section="preferences">
  <h3 class="section-title">Preferences</h3>
  <p class="section-subtitle">Customize your experience</p>

  <div class="edit-form">
    <!-- Dark Mode Toggle -->
    <div class="field toggle-field">
      <table aria-colspan="2">
        <tr>
          <td><div class="toggle-label">Dark Mode</div></td>
          <td>
            <label class="switch">
              <input type="checkbox" id="darkModeToggle">
            </label>
          </td>
        </tr>
      </table>
    </div>

    <!-- Email Notifications Toggle -->
    <div class="field toggle-field">
      <table aria-colspan="2">
        <tr>
          <td><div class="toggle-label">Email Notifications</div></td>
          <td>
            <label class="switch">
              <input type="checkbox" id="emailNotifications">
            </label>
          </td>
        </tr>
      </table>
    </div>

    <div class="actions-bar">
      <button class="btn btn-primary" id="savePreferencesBtn" type="button">
        Save Preferences
      </button>
    </div>
  </div>
</div>

<script>
  // Live validation display
const newPasswordInput = getEl("newPassword");
if (newPasswordInput) {
  newPasswordInput.addEventListener("input", (e) => {
    const rulesEl = getEl("passwordRules");
    if (rulesEl) rulesEl.style.display = e.target.value ? "block" : "none";
    validatePassword(e.target.value);
  });
}
</script>